parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ttE3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.class_editPanels=exports.panel_levelSelect=exports.panel_loadBoard=exports.panel_saveBoard=exports.panel_playing=exports.panel_lowerEdit=exports.panel_editor=exports.panel_debug=exports.select_level=exports.input_newHoppersToSave=exports.input_newLevelName=exports.input_levelToLoad=exports.info_toSave=exports.info_levelName=exports.info_edited=exports.btn_save=exports.btn_new=exports.btn_load=exports.btn_showLoader=exports.btn_backToQuest=exports.btn_randomLevels=exports.btn_playLevel=exports.btn_levelEditor=exports.btn_backToUnedited=exports.tileIcons=void 0;var e=document.querySelectorAll(".tile-icon");exports.tileIcons=e;var t=document.getElementById("back-to-unedited");exports.btn_backToUnedited=t;var o=document.getElementById("level-editor");exports.btn_levelEditor=o;var n=document.getElementById("play-level");exports.btn_playLevel=n;var l=document.getElementById("random-levels");exports.btn_randomLevels=l;var r=document.getElementById("back-to-quest");exports.btn_backToQuest=r;var a=document.getElementById("launch-loader");exports.btn_showLoader=a;var d=document.getElementById("load");exports.btn_load=d;var p=document.getElementById("new");exports.btn_new=p;var s=document.getElementById("save");exports.btn_save=s;var v=document.getElementById("edited");exports.info_edited=v;var m=document.getElementById("level-name");exports.info_levelName=m;var x=document.getElementById("to-save");exports.info_toSave=x;var _=document.getElementById("level-to-load");exports.input_levelToLoad=_;var c=document.getElementById("new-level-name");exports.input_newLevelName=c;var u=document.getElementById("new-hoppers-to-save");exports.input_newHoppersToSave=u;var i=document.getElementById("level-selector");exports.select_level=i;var y=document.getElementById("debug-panel");exports.panel_debug=y;var b=document.getElementById("editor-panel");exports.panel_editor=b;var g=document.getElementById("lower-edit-panel");exports.panel_lowerEdit=g;var B=document.getElementById("playing-panel");exports.panel_playing=B;var E=document.getElementById("panel-save-board");exports.panel_saveBoard=E;var I=document.getElementById("panel-load-board");exports.panel_loadBoard=I;var w=document.getElementById("panel-level-select");exports.panel_levelSelect=w;var L=document.querySelectorAll(".edit-panel");exports.class_editPanels=L;
},{}],"LAWF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../game.js");function t(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function e(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function r(i,t,r){return t&&e(i.prototype,t),r&&e(i,r),i}var s=function(){function e(r,s){t(this,e),this.x=r,this.y=s,this.radius=i.config.hopper.radius,this.left=r-this.radius,this.right=r+this.radius,this.bottom=s+this.radius,this.free=!1,this.onCeiling=!1,this.movement="falling",this.direction="right",this.dx=i.config.physics.speed,this.dy=i.config.physics.speed,this.terminal=i.config.terminal,this.bad=!1}return r(e,[{key:"update",value:function(){var t=this,e=Math.floor(this.x/i.config.board.spacing),r=Math.floor(this.y/i.config.board.spacing),s=["1","2","5","6"],n=["0","3","4"],o=(r+1)*i.config.board.spacing;switch("4"==i.gameBoard[r][e]&&(this.free=!0),function(){try{return s.includes(i.gameBoard[r+1][e])}catch(t){return!1}}()&&this.bottom+this.dy>o&&(this.y=o-this.radius,this.movement="rolling","5"==i.gameBoard[r+1][e]?this.direction="left":"6"==i.gameBoard[r+1][e]&&(this.direction="right")),function(){try{return"5"==i.gameBoard[r+1][e]&&"rolling"==t.movement}catch(s){return r==i.config.board.size-1&&"5"==i.gameBoard[0][e]&&"rolling"==t.movement}}()&&(this.direction="left"),function(){try{return"6"==i.gameBoard[r+1][e]}catch(s){return r==i.config.board.size-1&&"6"==i.gameBoard[0][e]&&"rolling"==t.movement}}()&&(this.direction="right"),(s.includes(i.gameBoard[r][e+1])||function(){try{return"5"==i.gameBoard[r+1][e+1]&&"rolling"==t.movement}catch(s){return!1}}())&&this.right>(e+1)*i.config.board.spacing&&(this.direction="left"),(s.includes(i.gameBoard[r][e-1])||function(){try{return"6"==i.gameBoard[r+1][e-1]&&"rolling"==t.movement}catch(s){return!1}}())&&this.left<e*i.config.board.spacing&&(this.direction="right"),"rolling"==this.movement&&function(){try{return n.includes(i.gameBoard[r+1][e])}catch(t){return!0}}()&&this.bottom+1>(r+1)*i.config.board.spacing&&(this.left+1>e*i.config.board.spacing&&"right"==this.direction||this.right-1<(e+1)*i.config.board.spacing&&"left"==this.direction)&&(this.movement="falling"),t.bottom+t.dy>i.canvas.height&&("0"!=i.gameBoard[0][e]||"3"!=i.gameBoard[0][e]||"4"!=i.gameBoard[0][e])&&!t.onCeiling?(this.onCeiling=!0,this.movement="rolling",this.y=i.canvas.height-this.radius-1):t.bottom+t.dy>i.canvas.height&&"0"==i.gameBoard[0][e]&&(this.y=0),t.onCeiling&&("0"==i.gameBoard[0][e]||"3"==i.gameBoard[0][e]||"4"==i.gameBoard[0][e])&&(t.left+1>e*i.config.board.spacing&&"right"==t.direction||t.right-1<(e+1)*i.config.board.spacing&&"left"==t.direction)&&(this.y=0,this.movement="falling",this.onCeiling=!1),t.x>i.canvas.width&&s.includes(i.gameBoard[r][0])?this.direction="left":this.x>i.canvas.width&&(this.x=0),t.x<=0&&s.includes(i.gameBoard[r][i.config.board.size-1])?this.direction="right":this.x<0&&(this.x=i.canvas.width),this.movement){case"falling":this.dx=0,this.dy=Math.min(this.dy+i.config.physics.gravity,i.config.physics.terminal),this.y+=this.dy;break;case"rolling":this.dx="right"==this.direction?i.config.physics.speed:-i.config.physics.speed,this.dy=0,this.x+=this.dx;break;case"stopped":this.dx=0,this.dy=0,this.x+=this.dx,this.y+=this.dy}this.left=this.x-this.radius,this.right=this.x+this.radius,this.bottom=this.y+this.radius,this.draw()}},{key:"draw",value:function(){i.c.save(),i.c.beginPath(),i.c.fillStyle=i.config.hopper.color,i.c.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),i.c.fill(),i.c.closePath(),i.c.restore()}}]),e}();exports.default=s;
},{"../game.js":"5riJ"}],"Fa13":[function(require,module,exports) {
module.exports=[{name:"The Easy One",hoppers:{max:1,releaseRate:100},badHoppers:{max:"0",releaseRate:100},map:[["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","2","0","0","0","0","0","0","0","2","0","0","0","0"],["0","0","0","0","2","0","0","1","0","0","2","0","0","0","0","0"],["0","0","0","0","0","2","2","1","2","2","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","2","0","2","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","4","0","0","0","0","0","0","0","4","0","0","0","0"],["0","0","0","2","2","2","2","2","2","2","2","2","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"A Bridge Too Far",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","0","3","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","4","0","1","0","0","1","0","4","0","0","0","0","0"],["0","0","0","2","0","0","0","0","0","0","2","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Ciggie",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","4","0","0","0","0","0","0","0","0"],["0","0","0","0","2","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","2","2","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Stairway to Heaven",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[[0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Stairway to Hell",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","0","3","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","4","0","0","0","0","1","0"],["0","0","0","0","0","0","0","0","0","2","0","0","0","0","2","0"],["0","0","0","0","0","0","0","0","0","0","1","2","2","1","0","0"],["0","0","0","0","0","0","0","0","0","2","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","1","0","1","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","2","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Safe Passage",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0],[1,0,2,0,1,0,2,0,1,0,2,0,1,0,4,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Solar System",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["0","0","3","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","4","4","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","4","4","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","4","4","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"New level",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","1","0","2","1","1","0","4","0","0","0","0","0"],["0","0","0","0","2","0","1","1","2","0","1","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"One Step Forward",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","2","0","0","0","0","0","4","0","0","0","0","0"],["0","0","0","0","1","1","1","5","1","1","1","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"X Marx the Spot",hoppers:{max:"",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","6","0","0","0","0","0","0","0","0","0","5","0","0","0"],["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","2","0","0","0","0","0","0","0","4","0","0","0","0"],["0","0","0","0","2","0","0","0","0","0","1","0","0","0","0","0"],["0","0","0","0","0","2","0","0","0","1","0","0","0","0","0","0"],["0","0","0","0","0","0","1","5","2","0","0","0","0","0","0","0"],["0","0","0","0","0","1","0","0","0","2","0","0","0","0","0","0"],["0","0","0","0","1","0","0","0","0","0","2","0","0","0","0","0"],["0","0","0","1","0","0","0","0","0","0","0","2","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Bird of Paradise",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[[0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,2,0,0,0,2,0,0,2,0,4],[2,2,0,1,2,2,2,0,2,2,2,0,2,2,0,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Means of Production",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["1","1","2","2","1","1","2","2","1","1","2","2","1","1","2","2"],["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","6","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","4","0","0"],["0","0","0","5","2","5","2","5","2","5","2","5","2","6","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Sieze the Means of Production",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["1","1","2","2","1","1","2","2","1","1","2","2","1","1","2","2"],["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","5","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","4","0","0"],["0","0","0","5","2","5","2","5","2","5","2","5","2","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Orion",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","5","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","4","6","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Lost in Space",hoppers:{max:1,releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","5","1","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","4","6","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Jolly Roger's Cookbook",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","6","0","0","0","0","0","0","0","0","0","0","0","5","0","0"],["0","0","0","0","0","2","2","2","2","2","0","0","0","0","0","0"],["0","0","0","0","2","1","1","1","1","1","2","0","0","0","0","0"],["0","0","0","1","0","1","1","1","1","1","0","1","0","0","0","0"],["0","0","0","5","1","1","1","1","1","1","1","5","0","0","0","0"],["0","0","0","2","1","1","6","1","5","1","1","2","0","0","0","0"],["0","0","0","2","1","1","1","1","1","1","1","2","0","0","0","0"],["0","0","0","1","2","1","1","1","1","1","2","1","0","0","0","0"],["0","0","0","0","1","2","1","1","1","2","1","0","0","0","0","0"],["0","0","0","0","0","1","2","2","2","1","0","0","0","0","0","0"],["0","6","0","0","0","1","1","4","1","1","0","0","0","5","0","0"],["0","0","0","0","0","2","6","6","6","2","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Cosmonaut",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","2","1","0","0","0","0","0","0","0"],["0","0","0","0","0","0","1","0","5","0","0","0","0","0","0","0"],["0","0","0","0","2","0","5","2","2","0","2","0","0","0","0","0"],["0","0","0","0","2","0","2","1","5","0","2","1","0","0","0","0"],["0","0","0","1","2","0","5","0","2","0","2","1","0","0","0","0"],["0","0","0","1","0","0","0","0","0","0","0","1","0","0","0","0"],["0","0","0","0","2","0","0","0","0","0","6","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","5","0","0","0","2","0","0","0","0","0","0"]]},{name:"Snail",hoppers:{max:"1",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["3","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","6","1","6","1","6","1","6","1","6","1","6","1","6","1","0"],["0","1","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["0","1","0","1","5","1","5","1","5","1","5","1","5","0","1","0"],["0","1","0","1","0","0","0","0","0","0","0","0","1","0","1","0"],["0","1","0","1","0","6","1","6","1","6","1","0","1","0","1","0"],["0","1","0","1","0","1","0","0","0","0","1","0","1","0","1","0"],["0","1","0","1","0","1","0","4","1","0","1","0","1","0","1","0"],["0","1","0","1","0","1","5","1","5","0","1","0","1","0","1","0"],["0","1","0","1","0","0","0","0","0","0","1","0","1","0","1","0"],["0","1","0","6","1","6","1","6","1","6","1","0","1","0","1","0"],["0","1","0","0","0","0","0","0","0","0","0","0","1","0","1","0"],["0","1","5","1","5","1","5","1","5","1","5","1","5","0","1","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["6","1","6","1","6","1","6","1","6","1","6","1","6","1","6","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"This Town Ain't Big Enough",hoppers:{max:1,releaseRate:100},badHoppers:{max:1,releaseRate:100},map:[["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","3","0","0","0","0","0","0","0","0","7","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","4","0","0","0","0"],["0","0","0","6","1","1","1","1","1","1","1","1","5","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"The Harder One",hoppers:{max:1,releaseRate:100},badHoppers:{max:1,releaseRate:100},map:[["0","0","0","3","0","7","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","2","0","0","0","0","0","0","0","2","0","0","0","0"],["0","0","0","0","2","0","0","1","0","0","2","0","0","0","0","0"],["0","0","0","0","0","2","2","1","2","2","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","2","0","2","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","4","0","0","0","0","0","0","0","4","0","0","0","0"],["0","0","0","2","2","2","2","2","2","2","2","2","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Minecraft",hoppers:{max:"1",releaseRate:100},badHoppers:{max:"1",releaseRate:100},map:[["0","0","7","0","0","0","0","0","0","0","0","0","0","0","3","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","6","2","2","0","0","0","0","0","0"],["0","1","1","2","2","0","0","1","1","0","2","0","0","0","0","0"],["0","0","0","2","2","0","1","0","0","2","1","0","0","0","0","0"],["0","0","0","0","0","0","2","0","1","0","1","0","0","0","0","0"],["0","0","0","0","0","0","1","1","0","0","2","2","2","1","0","0"],["0","0","0","0","0","1","1","1","0","2","1","1","0","0","2","0"],["0","1","1","1","1","0","0","2","0","1","0","0","1","0","0","0"],["2","0","0","1","1","2","0","0","1","2","0","0","1","0","0","2"],["1","0","0","1","0","2","0","0","1","2","0","0","0","0","0","0"],["0","1","0","0","1","2","0","0","0","1","0","0","1","1","1","1"],["1","1","0","1","2","1","1","2","0","6","0","0","1","2","1","2"],["1","0","0","2","2","0","0","0","0","1","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","2","2","1","0","0","2","1"],["0","0","2","0","4","0","1","0","0","2","0","0","0","0","2","0"]]},{name:"Gauntlet",hoppers:{max:1,releaseRate:100},badHoppers:{max:3,releaseRate:100},map:[["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","7","0","0","7","0","0","7","0","0","0","0","3","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","4","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","6","1","1","1","1","1","1","1","1","1","1","1","5","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"More levels coming soon!",hoppers:{max:"4",releaseRate:100},badHoppers:{max:0,releaseRate:100},map:[["3","0","0","0","0","1","0","3","3","0","1","0","0","0","0","3"],["0","1","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["0","0","0","5","6","0","0","0","0","0","0","5","6","0","0","0"],["0","0","0","0","0","0","0","5","6","0","0","0","0","0","0","0"],["0","0","0","0","1","0","0","0","0","0","0","1","0","0","0","0"],["1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1"],["0","0","0","0","0","0","1","0","0","1","0","0","0","0","0","0"],["0","0","1","0","0","0","0","4","4","0","0","0","0","1","0","0"],["0","0","1","0","0","0","0","4","4","0","0","0","0","1","0","0"],["0","0","0","0","0","0","1","0","0","1","0","0","0","0","0","0"],["1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1"],["0","0","0","0","1","0","0","0","0","0","0","1","0","0","0","0"],["0","0","0","0","0","0","0","5","6","0","0","0","0","0","0","0"],["0","0","0","5","6","0","0","0","0","0","0","5","6","0","0","0"],["0","1","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["0","0","0","0","0","1","0","0","0","0","1","0","0","0","0","0"]]}];
},{}],"+oDR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.activatePlayMode=s,exports.activateLevelEditor=p,exports.createGameBoardCopy=i,exports.setHomeAddresses=c,exports.clearBoard=d,exports.loadNextLevel=u,exports.generateLevelJSON=g,exports.addToCompletedList=f;var e=n(require("./domElements")),r=require("./game.js"),o=l(require("./classes/Hopper.js")),t=l(require("./data/levels.json"));function l(e){return e&&e.__esModule?e:{default:e}}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function n(e){if(e&&e.__esModule)return e;var r=a();if(r&&r.has(e))return r.get(e);var o={};if(null!=e){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var n=t?Object.getOwnPropertyDescriptor(e,l):null;n&&(n.get||n.set)?Object.defineProperty(o,l,n):o[l]=e[l]}}return o.default=e,r&&r.set(e,o),o}function s(){r.hoppers.length<1&&(r.level.hoppers.current=0,r.level.hoppers.free=0,r.level.hoppers.max=r.level.new?t.default[r.level.current].hoppers.max:r.level.hoppers.max),r.selector.x=99999,r.selector.y=99999,r.selector.homeX=null,r.selector.homeY=null,r.selector.dragging=!1,r.selector.draggingBlock=!1,r.selector.whatBlockWas=null,r.config.mode="play"}function p(){r.dragger.x=null,r.dragger.y=null,r.dragger.homeX=null,r.dragger.homeY=null,r.dragger.dragging=!1,r.dragger.draggingBlock=!1,r.dragger.whatBlockWas=null,r.painter.x=null,r.painter.y=null,r.painter.dragging=!1,r.painter.blockType="2",r.config.mode="editor",r.editor.mode="none"}function i(e){e.forEach(function(e){r.gameBoard.shift()}),e.forEach(function(e){r.gameBoard.push(e.toString().split(","))})}function c(){r.homeAddresses.splice(0,r.homeAddresses.length),r.spawnPoints.splice(0,r.spawnPoints.length),r.badSpawnPoints.splice(0,r.badSpawnPoints.length);for(var e=0;e<r.config.board.size;e++)for(var o=0;o<r.config.board.size;o++)"1"==r.gameBoard[e][o]?r.homeAddresses.push({home:{x:o,y:e},current:{x:o,y:e}}):"3"==r.gameBoard[e][o]?r.spawnPoints.push({x:o,y:e}):"7"==r.gameBoard[e][o]&&r.badSpawnPoints.push({x:o,y:e})}function d(){for(var e=0;e<r.config.board.size;e++)for(var o=0;o<r.config.board.size;o++)r.gameBoard[e][o]="0";r.hoppers.splice(0,r.hoppers.length),r.badHoppers.splice(0,r.badHoppers.length),r.level.hoppers.max=1,r.level.badHoppers.max=0,r.level.new=!0}function u(){r.level.new=!1,r.level.current+=1,r.selector.x=1e4,r.selector.y=1e4,(0,r.init)()}function g(){var o=e.input_newHoppersToSave.value;o<=0?o=1:r.level.hoppers.max=o;var t=0;return r.gameBoard.forEach(function(e){e.forEach(function(e){"7"==e&&(t+=1)})}),{name:e.input_newLevelName.value,hoppers:{max:o,releaseRate:100},badHoppers:{max:t,releaseRate:100},map:r.gameBoard}}function f(){if(!(JSON.parse(window.localStorage.getItem("completedLevels"))>r.completedLevels)){window.localStorage.setItem("completedLevels",JSON.stringify(r.completedLevels));var o=document.createElement("option"),t=document.createTextNode("Level "+r.completedLevels.toString());o.appendChild(t),o.value=r.completedLevels,e.select_level.appendChild(o),e.select_level.selectedIndex=r.completedLevels}}
},{"./domElements":"ttE3","./game.js":"5riJ","./classes/Hopper.js":"LAWF","./data/levels.json":"Fa13"}],"loaR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawGameBoard=o,exports.clearScreen=i;var c=require("../game.js");function o(){for(var o=0;o<c.config.board.size;o++)for(var i=0;i<c.config.board.size;i++){switch(c.gameBoard[o][i]){case"0":a(i,o,c.config.colors.empty);break;case"1":a(i,o,c.config.colors.movable);break;case"2":a(i,o,c.config.colors.immovable);break;case"3":a(i,o,c.config.colors.spawn);break;case"4":a(i,o,c.config.colors.exit);break;case"5":a(i,o,c.config.colors.immovable),n(i,o);break;case"6":a(i,o,c.config.colors.immovable),g(i,o);break;case"7":a(i,o,c.config.colors.badSpawn)}"editor"==c.config.mode&&e(i,o)}function a(o,i,a){c.c.save(),c.c.beginPath(),c.c.fillStyle=a,c.c.fillRect(o*c.config.board.spacing,i*c.config.board.spacing,o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing),c.c.fill(),c.c.closePath(),c.c.restore()}function n(o,i){c.c.save(),c.c.beginPath(),c.c.fillStyle=c.config.colors.movable,c.c.strokeStyle=c.config.colors.movable,c.c.moveTo(o*c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.lineTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.stroke(),c.c.fill(),c.c.restore()}function g(o,i){c.c.save(),c.c.beginPath(),c.c.fillStyle=c.config.colors.movable,c.c.strokeStyle=c.config.colors.movable,c.c.moveTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.lineTo(o*c.config.board.spacing,i*c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.stroke(),c.c.fill(),c.c.restore()}function e(o,i){c.c.save(),c.c.beginPath(),c.c.fillStyle="white",c.c.arc(o*c.config.board.spacing,i*c.config.board.spacing,1,0,2*Math.PI,!0),c.c.fill(),c.c.closePath(),c.c.restore()}}function i(){c.c.fillStyle="black",c.c.fillRect(0,0,c.canvas.width,c.canvas.height),c.c.fill()}
},{"../game.js":"5riJ"}],"Pgiu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../game.js");function t(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function e(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function r(i,t,r){return t&&e(i.prototype,t),r&&e(i,r),i}var s=function(){function e(r,s){t(this,e),this.x=r,this.y=s,this.radius=i.config.hopper.radius,this.left=r-this.radius,this.right=r+this.radius,this.bottom=s+this.radius,this.free=!1,this.onCeiling=!1,this.movement="falling",this.direction="right",this.dx=i.config.physics.speed,this.dy=i.config.physics.speed,this.terminal=i.config.terminal,this.killedHopper=!1}return r(e,[{key:"update",value:function(){var t=this,e=Math.floor(this.x/i.config.board.spacing),r=Math.floor(this.y/i.config.board.spacing),s=["1","2","5","6"],o=["0","3","4"],n=(r+1)*i.config.board.spacing;switch(i.hoppers.forEach(function(i){t.right>i.left&&t.right<i.right&&t.y==i.y?t.killedHopper=!0:t.left<i.right&&t.left>i.left&&t.y==i.y&&(t.killedHopper=!0)}),"4"==i.gameBoard[r][e]&&(this.free=!0),function(){try{return s.includes(i.gameBoard[r+1][e])}catch(t){return!1}}()&&this.bottom+this.dy>n&&(this.y=n-this.radius,this.movement="rolling","5"==i.gameBoard[r+1][e]?this.direction="left":"6"==i.gameBoard[r+1][e]&&(this.direction="right")),function(){try{return"5"==i.gameBoard[r+1][e]&&"rolling"==t.movement}catch(s){return r==i.config.board.size-1&&"5"==i.gameBoard[0][e]&&"rolling"==t.movement}}()&&(this.direction="left"),function(){try{return"6"==i.gameBoard[r+1][e]}catch(s){return r==i.config.board.size-1&&"6"==i.gameBoard[0][e]&&"rolling"==t.movement}}()&&(this.direction="right"),(s.includes(i.gameBoard[r][e+1])||function(){try{return"5"==i.gameBoard[r+1][e+1]&&"rolling"==t.movement}catch(s){return!1}}())&&this.right>(e+1)*i.config.board.spacing&&(this.direction="left"),(s.includes(i.gameBoard[r][e-1])||function(){try{return"6"==i.gameBoard[r+1][e-1]&&"rolling"==t.movement}catch(s){return!1}}())&&this.left<e*i.config.board.spacing&&(this.direction="right"),"rolling"==this.movement&&function(){try{return o.includes(i.gameBoard[r+1][e])}catch(t){return!0}}()&&this.bottom+1>(r+1)*i.config.board.spacing&&(this.left+1>e*i.config.board.spacing&&"right"==this.direction||this.right-1<(e+1)*i.config.board.spacing&&"left"==this.direction)&&(this.movement="falling"),t.bottom+t.dy>i.canvas.height&&("0"!=i.gameBoard[0][e]||"3"!=i.gameBoard[0][e]||"4"!=i.gameBoard[0][e])&&!t.onCeiling?(this.onCeiling=!0,this.movement="rolling",this.y=i.canvas.height-this.radius-1):t.bottom+t.dy>i.canvas.height&&"0"==i.gameBoard[0][e]&&(this.y=0),t.onCeiling&&("0"==i.gameBoard[0][e]||"3"==i.gameBoard[0][e]||"4"==i.gameBoard[0][e])&&(t.left+1>e*i.config.board.spacing&&"right"==t.direction||t.right-1<(e+1)*i.config.board.spacing&&"left"==t.direction)&&(this.y=0,this.movement="falling",this.onCeiling=!1),t.x>i.canvas.width&&s.includes(i.gameBoard[r][0])?this.direction="left":this.x>i.canvas.width&&(this.x=0),t.x<=0&&s.includes(i.gameBoard[r][i.config.board.size-1])?this.direction="right":this.x<0&&(this.x=i.canvas.width),this.movement){case"falling":this.dx=0,this.dy=Math.min(this.dy+i.config.physics.gravity,i.config.physics.terminal),this.y+=this.dy;break;case"rolling":this.dx="right"==this.direction?i.config.physics.speed:-i.config.physics.speed,this.dy=0,this.x+=this.dx;break;case"stopped":this.dx=0,this.dy=0,this.x+=this.dx,this.y+=this.dy}this.left=this.x-this.radius,this.right=this.x+this.radius,this.bottom=this.y+this.radius,this.draw()}},{key:"draw",value:function(){i.c.save(),i.c.beginPath(),i.c.fillStyle=i.config.hopper.badColor,i.c.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),i.c.fill(),i.c.closePath(),i.c.restore()}}]),e}();exports.default=s;
},{"../game.js":"5riJ"}],"goYb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.killAHopper=a,exports.spawnSingleHopper=l,exports.spawnHoppers=i,exports.spawnSingleBadHopper=c,exports.spawnBadHoppers=u,exports.resetHoppers=f;var e=t(require("../domElements.js")),p=require("../game.js"),r=o(require("../classes/Hopper.js")),n=o(require("../classes/BadHopper.js"));function o(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function t(e){if(e&&e.__esModule)return e;var p=s();if(p&&p.has(e))return p.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var t=n?Object.getOwnPropertyDescriptor(e,o):null;t&&(t.get||t.set)?Object.defineProperty(r,o,t):r[o]=e[o]}}return r.default=e,p&&p.set(e,r),r}function a(){p.hoppers.length>0&&(p.hoppers.shift(),p.level.hoppers.current=p.hoppers.length,p.level.hoppers.max-=1)}function l(){p.spawnPoints.length||p.spawnPoints.push({x:64,y:0});var e=p.level.hoppers.current%p.spawnPoints.length,n=p.spawnPoints[e].x*p.config.board.spacing+p.config.board.spacing/2,o=p.spawnPoints[e].y*p.config.board.spacing;if(p.hoppers.length<p.config.hopper.limit)try{p.hoppers.push(new r.default(n,o))}catch(s){p.hoppers.push(new r.default(p.config.board.spacing/2,0))}p.level.hoppers.current=p.hoppers.length}function i(){!(p.level.hoppers.max>p.level.hoppers.current+p.level.hoppers.free&&p.hoppers.length<p.config.hopper.limit)||0!=p.frame&&p.frame%p.level.hoppers.releaseRate!=0||l()}function c(){p.badSpawnPoints.length||p.badSpawnPoints.push({x:64,y:0});var e=p.level.badHoppers.current%p.badSpawnPoints.length,r=p.badSpawnPoints[e].x*p.config.board.spacing+p.config.board.spacing/2,o=p.badSpawnPoints[e].y*p.config.board.spacing;if(p.badHoppers.length<p.config.badHopper.limit)try{p.badHoppers.push(new n.default(r,o))}catch(s){p.badHoppers.push(new n.default(p.config.board.spacing/2,0))}p.level.badHoppers.current=p.badHoppers.length}function u(){!(p.level.badHoppers.max>p.level.badHoppers.current&&p.badHoppers.length<p.config.badHopper.limit)||0!=p.frame&&p.frame%p.level.hoppers.releaseRate!=0||c()}function f(){p.level.hoppers.current=0,p.level.badHoppers.current=0,p.level.hoppers.free=0,p.hoppers.splice(0,p.hoppers.length),p.badHoppers.splice(0,p.badHoppers.length)}
},{"../domElements.js":"ttE3","../game.js":"5riJ","../classes/Hopper.js":"LAWF","../classes/BadHopper.js":"Pgiu"}],"+H8a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showLevelHasBeenEdited=a,exports.showSaveJSONPanel=d,exports.showLoader=l,exports.showPlayingPanel=o,exports.showEditorPanel=i,exports.hideFilePanel=c,exports.togglePlayAndEditorButtons=r,exports.showBackToQuestButton=p,exports.hideBackToQuestButton=h,exports.showLevelSelect=u,exports.hideLevelSelect=v,exports.populateLevelSelector=L;var e=n(require("../domElements.js")),t=require("../game.js");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function n(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){var l=a?Object.getOwnPropertyDescriptor(e,d):null;l&&(l.get||l.set)?Object.defineProperty(n,d,l):n[d]=e[d]}}return n.default=e,t&&t.set(e,n),n}function a(){e.info_edited.classList.contains("hidden")&&e.info_edited.classList.remove("hidden")}function d(){e.panel_saveBoard.classList.contains("hidden")&&e.panel_saveBoard.classList.remove("hidden"),e.panel_loadBoard.classList.contains("hidden")||e.panel_loadBoard.classList.add("hidden")}function l(){e.panel_loadBoard.classList.contains("hidden")&&e.panel_loadBoard.classList.remove("hidden"),e.panel_saveBoard.classList.contains("hidden")||e.panel_saveBoard.classList.add("hidden")}function o(){e.panel_editor.classList.contains("hidden")||(e.panel_editor.classList.add("hidden"),e.panel_lowerEdit.classList.add("hidden"),e.panel_playing.classList.remove("hidden"))}function i(){e.panel_editor.classList.contains("hidden")&&(e.panel_editor.classList.remove("hidden"),e.panel_lowerEdit.classList.remove("hidden"),e.panel_playing.classList.add("hidden"))}function c(){e.panel_saveBoard.classList.contains("hidden")||e.panel_saveBoard.classList.add("hidden"),e.panel_loadBoard.classList.contains("hidden")||e.panel_loadBoard.classList.add("hidden")}function r(){e.btn_playLevel.classList.toggle("hidden"),e.btn_levelEditor.classList.toggle("hidden")}function p(){e.btn_backToQuest.classList.contains("hidden")&&e.btn_backToQuest.classList.remove("hidden")}function h(){e.btn_backToQuest.classList.contains("hidden")||e.btn_backToQuest.classList.add("hidden")}function u(){e.panel_levelSelect.classList.contains("hidden")&&e.panel_levelSelect.classList.remove("hidden")}function v(){e.panel_levelSelect.classList.contains("hidden")||e.panel_levelSelect.classList.add("hidden")}function L(){window.localStorage.getItem("completedLevels")?(0,t.setCompletedLevels)(JSON.parse(window.localStorage.getItem("completedLevels"))):window.localStorage.setItem("completedLevels","0");for(var s=0;s<t.completedLevels+1;s++){var n=document.createElement("option"),a=document.createTextNode("Level "+s.toString());n.appendChild(a),n.value=s,e.select_level.appendChild(n),e.select_level.selectedIndex=0}}
},{"../domElements.js":"ttE3","../game.js":"5riJ"}],"OJ/h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var a=require("../game.js");function r(){var r=Math.max(.66,Math.random()),o=Math.max(.4,Math.random()),e={hoppers:{},name:"Random"};e.hoppers.max=(Math.floor(5*Math.random())+1).toString(),e.hoppers.releaseRate=100,e.badHoppers={},e.badHoppers.max=0,e.badHoppers.releaseRate=100,e.map=[];for(var t=0;t<a.config.board.size;t++){for(var n=[],p=0;p<a.config.board.size;p++)Math.random()>o&&t>1?Math.random()>r?n.push("2"):n.push("1"):n.push("0");e.map.push(n)}for(var s=[],h=0;h<a.config.board.size;h++)s.push(h);s=function(a){for(var r=a.length;r>0;){var o=Math.floor(Math.random()*r),e=a[--r];a[r]=a[o],a[o]=e}return a}(s),console.log();for(var d=0;d<e.hoppers.max;d++)(0==d||Math.random()>.6)&&(e.map[0][s[d]]="3");var m=Math.floor(Math.random()*a.config.board.size),f=Math.floor(Math.random()*a.config.board.size);return e.map[m][f]="4",e}
},{"../game.js":"5riJ"}],"e2el":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mousedown=exports.mouse=void 0;var e={x:900,y:900};exports.mouse=e;var o=!1;exports.mousedown=o,window.addEventListener("mousemove",function(){e.x=event.x,e.y=event.y}),window.addEventListener("mousedown",function(){exports.mousedown=o=!0}),window.addEventListener("mouseup",function(){exports.mousedown=o=!1});
},{}],"Iy00":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../game.js"),n=require("../eventListeners/mouse.js");function r(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function a(o,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}function i(o,n,r){return n&&a(o.prototype,n),r&&a(o,r),o}var e=function(){function a(){r(this,a),this.x=1e4,this.y=1e4,this.homeX=null,this.homeY=null,this.dragging=!1,this.draggingBlock=!1,this.whatBlockWas=null}return i(a,[{key:"update",value:function(){var r,a=this,i=Math.floor(n.mouse.x/o.config.board.spacing),e=Math.floor(n.mouse.y/o.config.board.spacing),c=Math.floor(this.x/o.config.board.spacing),t=Math.floor(this.y/o.config.board.spacing),g=(o.config.colors.list[this.whatBlockWas],function(){a.x=Math.floor(n.mouse.x/o.config.board.spacing)*o.config.board.spacing,a.y=Math.floor(n.mouse.y/o.config.board.spacing)*o.config.board.spacing}),s=function(){return n.mouse.x<a.homeX+2*o.config.board.spacing&&n.mouse.x>a.homeX-o.config.board.spacing&&n.mouse.y<a.homeY+2*o.config.board.spacing&&n.mouse.y>a.homeY-o.config.board.spacing&&n.mouse.x<o.canvas.width&&n.mouse.x>=0&&n.mouse.y<o.canvas.height&&n.mouse.y>=0},f=function(){try{return"1"==o.gameBoard[e][i]}catch(n){return!1}},u=function(){return a.draggingBlock&&!n.mousedown},h=function(){return a.draggingBlock&&n.mousedown},d=function(){try{return"0"==o.gameBoard[e][i]}catch(n){return!1}},l=function(){return o.hoppers.some(function(n){try{var r=Math.floor(n.x/o.config.board.spacing),a=Math.floor(n.y/o.config.board.spacing);return i==r&&e==a}catch(c){return!1}})},m=function(){return o.hoppers.some(function(n){try{var r=Math.floor(n.x/o.config.board.spacing),a=Math.floor(n.y/o.config.board.spacing);return c==r&&t==a}catch(i){return!1}})};if(!a.draggingBlock&&n.mousedown&&f()?(r=o.homeAddresses.filter(function(o){return o.current.x==i&&o.current.y==e})[0],a.homeX=r.home.x*o.config.board.spacing,a.homeY=r.home.y*o.config.board.spacing,a.whatBlockWas=o.gameBoard[e][i],this.dragging=!0,this.draggingBlock=!0,o.gameBoard[e][i]="0"):a.dragging||!n.mousedown||f()||(this.dragging=!0,this.draggingBlock=!1),m()&&l())this.draw();else{if(m()&&!l()&&d()&&s())g();else if(m()&&(!s()||!d()))return void this.draw();h()&&d()&&!l()&&s()?g():(u()&&!l()&&function(){try{return"0"==o.gameBoard[t][c]}catch(n){return!1}}()&&!m()||u()&&l()&&(!m()||!h()))&&(a.dragging=!1,o.homeAddresses.forEach(function(n){n.home.x==Math.floor(a.homeX/o.config.board.spacing)&&n.home.y==Math.floor(a.homeY/o.config.board.spacing)&&(n.current.x=c,n.current.y=t)}),o.gameBoard[t][c]=a.whatBlockWas,a.draggingBlock&&(o.c.fillStyle="pink",o.c.fillRect(a.x,a.y,o.config.board.spacing,o.config.board.spacing)),a.draggingBlock=!1),h()&&this.draw()}}},{key:"draw",value:function(){o.c.save(),o.c.beginPath(),o.c.shadowColor="white",o.c.shadowBlur=12,o.c.strokeStyle="rgb(255,191,0)",o.c.fillStyle="rgba(150,50,100,0.2)",o.c.rect(this.homeX-o.config.board.spacing,this.homeY-o.config.board.spacing,3*o.config.board.spacing,3*o.config.board.spacing),o.c.fill(),o.c.stroke(),o.c.closePath(),o.c.restore(),o.c.fillStyle="orange",o.c.fillRect(this.x,this.y,o.config.board.spacing,o.config.board.spacing)}}]),a}();exports.default=e;
},{"../game.js":"5riJ","../eventListeners/mouse.js":"e2el"}],"jf4m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../game.js"),r=require("../eventListeners/mouse.js"),n=e(require("../domElements.js"));function t(){if("function"!=typeof WeakMap)return null;var o=new WeakMap;return t=function(){return o},o}function e(o){if(o&&o.__esModule)return o;var r=t();if(r&&r.has(o))return r.get(o);var n={};if(null!=o){var e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var a=e?Object.getOwnPropertyDescriptor(o,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=o[i]}}return n.default=o,r&&r.set(o,n),n}function i(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function a(o,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}function c(o,r,n){return r&&a(o.prototype,r),n&&a(o,n),o}var s=function(){function t(){i(this,t),this.x=null,this.y=null,this.homeX=null,this.homeY=null,this.dragging=!1,this.draggingBlock=!1,this.whatBlockWas=null}return c(t,[{key:"update",value:function(){var t=this,e=Math.floor(r.mouse.x/o.config.board.spacing),i=Math.floor(r.mouse.y/o.config.board.spacing),a=Math.floor(this.x/o.config.board.spacing),c=Math.floor(this.y/o.config.board.spacing),s=(o.config.colors.list[this.whatBlockWas],function(){t.x=Math.floor(r.mouse.x/o.config.board.spacing)*o.config.board.spacing,t.y=Math.floor(r.mouse.y/o.config.board.spacing)*o.config.board.spacing}),g=function(){return r.mouse.x<o.canvas.width&&r.mouse.x>=0&&r.mouse.y<o.canvas.height&&r.mouse.y>=0},l=function(){try{return["1","2","3","4","5","6"].includes(o.gameBoard[i][e])}catch(r){return!1}},u=function(){return t.draggingBlock&&!r.mousedown},f=function(){return t.draggingBlock&&r.mousedown},d=function(){try{return"0"==o.gameBoard[i][e]}catch(r){return!1}},h=function(){return o.hoppers.some(function(r){try{var n=Math.floor(r.x/o.config.board.spacing),t=Math.floor(r.y/o.config.board.spacing);return e==n&&i==t}catch(a){return!1}})},p=function(){return o.hoppers.some(function(r){try{var n=Math.floor(r.x/o.config.board.spacing),t=Math.floor(r.y/o.config.board.spacing);return a==n&&c==t}catch(e){return!1}})};if(!t.draggingBlock&&r.mousedown&&l()?(this.whatBlockWas=o.gameBoard[i][e],this.dragging=!0,this.draggingBlock=!0,o.gameBoard[i][e]="0"):t.dragging||!r.mousedown||l()||(this.dragging=!0,this.draggingBlock=!1),p()&&h())this.draw();else{if(p()&&!h()&&d()&&g())s();else if(p()&&(!g()||!d()))return void this.draw();f()&&d()&&!h()&&g()?s():(u()&&!h()&&function(){try{return"0"==o.gameBoard[c][a]}catch(r){return!1}}()&&!p()||u()&&h()&&(!p()||!f()))&&(t.dragging=!1,o.gameBoard[c][a]=t.whatBlockWas,t.draggingBlock&&(o.c.fillStyle=o.config.colors.list[t.whatBlockWas],o.c.fillRect(t.x,t.y,o.config.board.spacing,o.config.board.spacing)),t.draggingBlock=!1,o.level.new=!0,n.info_edited.classList.contains("hidden")&&n.info_edited.classList.remove("hidden")),f()&&this.draw()}}},{key:"draw",value:function(){o.c.save(),o.c.beginPath(),o.c.strokeStyle="white",o.c.shadowColor="white",o.c.shadowBlur=12,o.c.fillStyle=o.config.colors.list[this.whatBlockWas],o.c.rect(this.x,this.y,o.config.board.spacing,o.config.board.spacing),o.c.fillRect(this.x,this.y,o.config.board.spacing,o.config.board.spacing),o.c.stroke(),o.c.closePath(),o.c.restore()}}]),t}();exports.default=s;
},{"../game.js":"5riJ","../eventListeners/mouse.js":"e2el","../domElements.js":"ttE3"}],"Ftdp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../game.js"),o=require("../eventListeners/mouse.js"),r=n(require("../domElements.js"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function n(e){if(e&&e.__esModule)return e;var o=t();if(o&&o.has(e))return o.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}}return r.default=e,o&&o.set(e,r),r}function i(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function a(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function s(e,o,r){return o&&a(e.prototype,o),r&&a(e,r),e}var c=function(){function t(){i(this,t),this.x=null,this.y=null,this.dragging=!1,this.blockType="1",this.overlappingHopper=!1}return s(t,[{key:"update",value:function(){var t=this,n=(e.config.colors.list[this.blockType],Math.floor(o.mouse.x/e.config.board.spacing)),i=Math.floor(o.mouse.y/e.config.board.spacing),a=function(){return o.mouse.x<e.canvas.width&&o.mouse.x>=0&&o.mouse.y<e.canvas.height&&o.mouse.y>=0},s=function(){return e.hoppers.some(function(o){try{var r=Math.floor(o.x/e.config.board.spacing),t=Math.floor(o.y/e.config.board.spacing);return n==r&&i==t}catch(a){return!1}})};!t.dragging&&o.mousedown&&a()?this.dragging=!0:t.dragging&&!o.mousedown&&(this.dragging=!1),t.dragging&&o.mousedown&&!s()?(this.overlappingHopper=!1,a()&&(e.gameBoard[i][n]=this.blockType,e.level.new=!0,r.info_edited.classList.contains("hidden")&&r.info_edited.classList.remove("hidden"))):s()?this.overlappingHopper=!0:this.overlappingHopper=!1,t.x=Math.floor(o.mouse.x/e.config.board.spacing)*e.config.board.spacing,t.y=Math.floor(o.mouse.y/e.config.board.spacing)*e.config.board.spacing,this.draw()}},{key:"draw",value:function(){e.c.save(),e.c.beginPath(),this.dragging&&(e.c.shadowColor="white",e.c.shadowBlur=12),e.c.strokeStyle="white",e.c.fillStyle=this.overlappingHopper?"red":e.config.colors.list[this.blockType],e.c.rect(this.x,this.y,e.config.board.spacing,e.config.board.spacing),e.c.fillRect(this.x,this.y,e.config.board.spacing,e.config.board.spacing),e.c.stroke(),e.c.closePath(),e.c.restore()}}]),t}();exports.default=c;
},{"../game.js":"5riJ","../eventListeners/mouse.js":"e2el","../domElements.js":"ttE3"}],"BJLU":[function(require,module,exports) {
"use strict";var e=require("../game.js"),n=require("../domElements.js"),t=s(require("../functions.js")),r=s(require("../functions/domFunctions.js")),i=s(require("../functions/hopper.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){if(e&&e.__esModule)return e;var n=o();if(n&&n.has(e))return n.get(e);var t={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(t,i,s):t[i]=e[i]}}return t.default=e,n&&n.set(e,t),t}var d=function(){return!(n.input_newLevelName===document.activeElement)};window.addEventListener("keyup",function(n){"p"!=n.key&&"P"!=n.key||!d()||(e.level.paused=!e.level.paused,document.getElementById("paused").classList.toggle("hidden"))}),window.addEventListener("keyup",function(n){"r"!=n.key&&"R"!=n.key||"play"!=e.config.mode||(e.level.new||e.config.random?(i.resetHoppers(),t.setHomeAddresses(),(0,e.resetFrames)()):(0,e.init)())}),window.addEventListener("keyup",function(n){"s"!=n.key&&"S"!=n.key||"editor"!=e.config.mode||!d()||(t.setHomeAddresses(),r.showLevelHasBeenEdited(),i.spawnSingleHopper(),e.level.new=!0)}),window.addEventListener("keyup",function(n){"k"!=n.key&&"K"!=n.key||"editor"!=e.config.mode||!d()||(r.showLevelHasBeenEdited(),i.killAHopper(),e.level.new=!0)}),window.addEventListener("keydown",function(t){"Shift"==t.key&&(n.tileIcons.forEach(function(e){return e.classList.remove("selected")}),e.editor.mode="drag")}),window.addEventListener("keyup",function(n){"Shift"==n.key&&(e.editor.mode="none")});
},{"../game.js":"5riJ","../domElements.js":"ttE3","../functions.js":"+oDR","../functions/domFunctions.js":"+H8a","../functions/hopper.js":"goYb"}],"wGWV":[function(require,module,exports) {
"use strict";var e=d(require("../domElements.js")),n=d(require("../functions.js")),t=d(require("../functions/domFunctions.js")),i=d(require("../functions/hopper.js")),a=o(require("../functions/generateRandomLevel.js")),l=require("../game.js"),r=o(require("../data/levels.json"));function o(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){if(e&&e.__esModule)return e;var n=s();if(n&&n.has(e))return n.get(e);var t={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(t,a,l):t[a]=e[a]}}return t.default=e,n&&n.set(e,t),t}e.btn_playLevel.addEventListener("click",function(){"editor"==l.config.mode&&n.setHomeAddresses(),t.hideFilePanel(),t.togglePlayAndEditorButtons(),t.showPlayingPanel(),n.activatePlayMode(),l.config.random||t.showLevelSelect(),l.badHoppers.splice(0,l.badHoppers.length);var e=0;l.gameBoard.forEach(function(n){n.forEach(function(n){"7"==n&&(e+=1)})}),e>0&&(l.level.badHoppers.max=e,n.setHomeAddresses()),i.resetHoppers()}),e.btn_levelEditor.addEventListener("click",function(){t.hideFilePanel(),t.togglePlayAndEditorButtons(),t.showEditorPanel(),t.hideLevelSelect(),n.activateLevelEditor()}),e.btn_randomLevels.addEventListener("click",function(){l.level.new=!1,l.level.current+=1,(0,l.init)((0,a.default)()),l.config.random=!0,e.btn_randomLevels.innerText="New random level",t.hideFilePanel(),t.showBackToQuestButton(),t.hideLevelSelect()}),e.btn_backToQuest.addEventListener("click",function(){l.level.current=0,l.config.random=!1,l.level.new=!1,t.hideBackToQuestButton(),t.showPlayingPanel(),t.hideFilePanel(),t.showLevelSelect(),n.activatePlayMode(),(0,l.init)()}),e.btn_backToUnedited.addEventListener("click",l.init),e.btn_save.addEventListener("click",function(){t.showSaveJSONPanel(),e.panel_saveBoard.innerHTML="<h4>Save this string somewhere:</h4><div class='json'>"+JSON.stringify(n.generateLevelJSON())+"</div>"}),e.btn_showLoader.addEventListener("click",t.showLoader),e.btn_new.addEventListener("click",function(){n.clearBoard(),t.hideFilePanel(),t.showLevelHasBeenEdited()}),e.btn_load.addEventListener("click",function(){var i=JSON.parse(e.input_levelToLoad.value);(0,l.init)(i),t.hideFilePanel(),t.showPlayingPanel(),t.togglePlayAndEditorButtons(),n.activatePlayMode(),l.level.new=!0}),e.input_newLevelName.addEventListener("click",t.hideFilePanel),e.input_newHoppersToSave.addEventListener("click",t.hideFilePanel),e.input_newLevelName.addEventListener("input",function(n){e.info_levelName.innerHTML=e.input_newLevelName.value,t.hideFilePanel()}),e.input_newHoppersToSave.addEventListener("input",function(n){var i=e.input_newHoppersToSave.value;i<=0?(l.level.hoppers.max=1,e.info_toSave.innerHTML=1):(l.level.hoppers.max=i,e.info_toSave.innerHTML=l.level.hoppers.max),l.level.new=!0,t.hideFilePanel(),t.showLevelHasBeenEdited()}),e.tileIcons.forEach(function(n){n.addEventListener("click",function(){l.editor.mode="paint",l.painter.x=99999,l.painter.y=99999,l.painter.dragging=!1,l.painter.blockType=n.dataset.blockType,n.classList.contains("selected")||(e.tileIcons.forEach(function(e){return e.classList.remove("selected")}),n.classList.add("selected")),t.hideFilePanel()})}),e.select_level.addEventListener("change",function(e){l.level.current=parseInt(e.srcElement.value),i.resetHoppers(),n.setHomeAddresses(),(0,l.resetFrames)(),(0,l.init)()});
},{"../domElements.js":"ttE3","../functions.js":"+oDR","../functions/domFunctions.js":"+H8a","../functions/hopper.js":"goYb","../functions/generateRandomLevel.js":"OJ/h","../game.js":"5riJ","../data/levels.json":"Fa13"}],"5riJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=E,exports.resetFrames=F,exports.setCompletedLevels=N,exports.frame=exports.painter=exports.dragger=exports.selector=exports.badHoppers=exports.hoppers=exports.gameBoard=exports.spawnPoints=exports.badSpawnPoints=exports.homeAddresses=exports.c=exports.canvas=exports.editor=exports.config=exports.level=exports.completedLevels=exports.palettes=void 0;var e=h(require("./functions.js")),r=h(require("./functions/canvas.js")),o=h(require("./functions/hopper.js")),s=h(require("./functions/domFunctions.js")),t=h(require("./domElements.js")),a=x(require("./functions/generateRandomLevel.js")),p=x(require("./classes/Hopper.js")),n=x(require("./classes/BadHopper.js")),d=x(require("./classes/Selector.js")),i=x(require("./classes/Dragger.js")),l=x(require("./classes/Painter.js")),c=x(require("./eventListeners/mouse.js")),u=x(require("./eventListeners/keyboard.js")),f=x(require("./eventListeners/domListeners.js")),m=x(require("./data/levels.json"));function x(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function h(e){if(e&&e.__esModule)return e;var r=v();if(r&&r.has(e))return r.get(e);var o={};if(null!=e){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=s?Object.getOwnPropertyDescriptor(e,t):null;a&&(a.get||a.set)?Object.defineProperty(o,t,a):o[t]=e[t]}}return o.default=e,r&&r.set(e,o),o}var b=["#ff71ce","#01cdfe","#05ffa1","#bfb9ff","#fffb96"];exports.palettes=b;var w=0;exports.completedLevels=w;var g={current:0,name:"",hoppers:{releaseRate:100,current:0,max:1,free:0},badHoppers:{releaseRate:100,current:0,max:1},completed:!1,paused:!1,new:!1};exports.level=g;var y={board:{size:16,spacing:32},hopper:{color:"green",badColor:"red",radius:9,limit:16},badHopper:{limit:16},mode:"play",random:!1,physics:{gravity:.3,speed:1.5,terminal:9.8},colors:{empty:"black",movable:b[g.current%b.length],immovable:"grey",exit:"white",spawn:"blue",leftArrow:"green",rightArrow:"green",badSpawn:"red"}};exports.config=y,y.colors.list=[y.colors.empty,y.colors.movable,y.colors.immovable,y.colors.spawn,y.colors.exit,y.colors.leftArrow,y.colors.rightArrow,y.colors.badSpawn];var j={mode:"none"};exports.editor=j;var H=document.querySelector("canvas");exports.canvas=H;var L=H.getContext("2d");exports.c=L,H.width=y.board.size*y.board.spacing,H.height=y.board.size*y.board.spacing;var q=[];exports.homeAddresses=q;var P=[];exports.badSpawnPoints=P;var _=[];exports.spawnPoints=_;var k=[];exports.gameBoard=k;var S=[];exports.hoppers=S;var A=[];exports.badHoppers=A;var O=new d.default;exports.selector=O;var M=new i.default;exports.dragger=M;var B=new l.default;function E(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.default[g.current];g.new=!1,g.hoppers.current=0,g.hoppers.free=0,g.badHoppers.current=0,r.hoppers.max>0?g.hoppers.max=r.hoppers.max:g.hoppers.max=1,r.badHoppers.max>0?g.badHoppers.max=r.badHoppers.max:g.badHoppers.max=0,t.info_levelName.innerHTML=r.name,t.info_toSave.innerHTML=g.hoppers.max,t.info_edited.classList.contains("hidden")||t.info_edited.classList.add("hidden"),exports.hoppers=S=[],exports.badHoppers=A=[],exports.spawnPoints=_=[],exports.badSpawnPoints=P=[],exports.gameBoard=k=[],e.createGameBoardCopy(r.map),e.setHomeAddresses(),exports.frame=C=-1,y.colors.movable=b[g.current%b.length],exports.selector=O=new d.default}exports.painter=B;var C=0;function F(){exports.frame=C=-1}function N(e){exports.completedLevels=w=e}function z(){if(requestAnimationFrame(z),r.clearScreen(),r.drawGameBoard(),o.spawnHoppers(),o.spawnBadHoppers(),"editor"==y.mode)switch(j.mode){case"paint":B.update();break;case"drag":M.update()}else O.update();g.paused?(S.forEach(function(e){return e.draw()}),A.forEach(function(e){return e.draw()})):(!function(){for(var e=S.length,r=[],o=e-1;o>=0;o--)S[o].update(),S[o].free&&r.push(o);r.length>0&&r.forEach(function(e){S.splice(e,1),g.hoppers.free+=1})}(),A.forEach(function(r){r.update(),r.killedHopper&&(g.new||y.random?(o.resetHoppers(),e.setHomeAddresses(),F(),r.killedHopper=!1):(console.log("optherwise"),E()))}),exports.frame=C+=1);var p=g.hoppers.free==g.hoppers.max&&("play"==y.mode||y.random)&&!g.new;p&&y.random||g.hoppers.free>1&&S.length<1&&y.random?(g.current+=1,E((0,a.default)()),s.hideFilePanel(),s.showPlayingPanel(),e.activatePlayMode()):p&&"play"==y.mode&&(e.loadNextLevel(),w<g.current&&!y.random&&(exports.completedLevels=w=g.current,e.addToCompletedList()),t.select_level.selectedIndex=g.current)}exports.frame=C,window.addEventListener("keyup",function(r){"n"!=r.key&&"N"!=r.key||("play"!=y.mode||y.random?(g.new=!1,g.current+=1,E((0,a.default)())):e.loadNextLevel())}),s.populateLevelSelector(),E(),z();
},{"./functions.js":"+oDR","./functions/canvas.js":"loaR","./functions/hopper.js":"goYb","./functions/domFunctions.js":"+H8a","./domElements.js":"ttE3","./functions/generateRandomLevel.js":"OJ/h","./classes/Hopper.js":"LAWF","./classes/BadHopper.js":"Pgiu","./classes/Selector.js":"Iy00","./classes/Dragger.js":"jf4m","./classes/Painter.js":"Ftdp","./eventListeners/mouse.js":"e2el","./eventListeners/keyboard.js":"BJLU","./eventListeners/domListeners.js":"wGWV","./data/levels.json":"Fa13"}]},{},["5riJ"], null)
//# sourceMappingURL=/game.192fafb3.js.map