parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ttE3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.class_editPanels=exports.panel_loadBoard=exports.panel_saveBoard=exports.panel_playing=exports.panel_lowerEdit=exports.panel_editor=exports.panel_debug=exports.input_newHoppersToSave=exports.input_newLevelName=exports.input_levelToLoad=exports.info_toSave=exports.info_levelName=exports.info_edited=exports.btn_save=exports.btn_new=exports.btn_load=exports.btn_showLoader=exports.btn_playLevel=exports.btn_levelEditor=exports.btn_backToUnedited=exports.tileIcons=void 0;var e=document.querySelectorAll(".tile-icon");exports.tileIcons=e;var t=document.getElementById("back-to-unedited");exports.btn_backToUnedited=t;var o=document.getElementById("level-editor");exports.btn_levelEditor=o;var n=document.getElementById("play-level");exports.btn_playLevel=n;var l=document.getElementById("launch-loader");exports.btn_showLoader=l;var r=document.getElementById("load");exports.btn_load=r;var a=document.getElementById("new");exports.btn_new=a;var d=document.getElementById("save");exports.btn_save=d;var p=document.getElementById("edited");exports.info_edited=p;var s=document.getElementById("level-name");exports.info_levelName=s;var v=document.getElementById("to-save");exports.info_toSave=v;var m=document.getElementById("level-to-load");exports.input_levelToLoad=m;var x=document.getElementById("new-level-name");exports.input_newLevelName=x;var _=document.getElementById("new-hoppers-to-save");exports.input_newHoppersToSave=_;var i=document.getElementById("debug-panel");exports.panel_debug=i;var u=document.getElementById("editor-panel");exports.panel_editor=u;var c=document.getElementById("lower-edit-panel");exports.panel_lowerEdit=c;var y=document.getElementById("playing-panel");exports.panel_playing=y;var g=document.getElementById("panel-save-board");exports.panel_saveBoard=g;var b=document.getElementById("panel-load-board");exports.panel_loadBoard=b;var B=document.querySelectorAll(".edit-panel");exports.class_editPanels=B;
},{}],"LAWF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../game.js");function t(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function e(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function r(i,t,r){return t&&e(i.prototype,t),r&&e(i,r),i}var s=function(){function e(r,s){t(this,e),this.x=r,this.y=s,this.radius=i.config.hopper.radius,this.left=r-this.radius,this.right=r+this.radius,this.bottom=s+this.radius,this.free=!1,this.onCeiling=!1,this.movement="falling",this.direction="right",this.dx=i.config.physics.speed,this.dy=i.config.physics.speed,this.terminal=i.config.terminal}return r(e,[{key:"update",value:function(){var t=this,e=Math.floor(this.x/i.config.board.spacing),r=Math.floor(this.y/i.config.board.spacing),s=["1","2","5","6"],n=["0","3","4"],o=(r+1)*i.config.board.spacing;switch("4"==i.gameBoard[r][e]&&(this.free=!0),function(){try{return s.includes(i.gameBoard[r+1][e])}catch(t){return!1}}()&&this.bottom+this.dy>o&&(this.y=o-this.radius,this.movement="rolling","5"==i.gameBoard[r+1][e]?this.direction="left":"6"==i.gameBoard[r+1][e]&&(this.direction="right")),function(){try{return"5"==i.gameBoard[r+1][e]&&"rolling"==t.movement}catch(s){return r==i.config.board.size-1&&"5"==i.gameBoard[0][e]&&"rolling"==t.movement}}()&&(this.direction="left"),function(){try{return"6"==i.gameBoard[r+1][e]}catch(s){return r==i.config.board.size-1&&"6"==i.gameBoard[0][e]&&"rolling"==t.movement}}()&&(this.direction="right"),(s.includes(i.gameBoard[r][e+1])||function(){try{return"5"==i.gameBoard[r+1][e+1]&&"rolling"==t.movement}catch(s){return!1}}())&&this.right>(e+1)*i.config.board.spacing&&(this.direction="left"),(s.includes(i.gameBoard[r][e-1])||function(){try{return"6"==i.gameBoard[r+1][e-1]&&"rolling"==t.movement}catch(s){return!1}}())&&this.left<e*i.config.board.spacing&&(this.direction="right"),"rolling"==this.movement&&function(){try{return n.includes(i.gameBoard[r+1][e])}catch(t){return!0}}()&&this.bottom+1>(r+1)*i.config.board.spacing&&(this.left+1>e*i.config.board.spacing&&"right"==this.direction||this.right-1<(e+1)*i.config.board.spacing&&"left"==this.direction)&&(this.movement="falling"),t.bottom+t.dy>i.canvas.height&&("0"!=i.gameBoard[0][e]||"3"!=i.gameBoard[0][e])&&!t.onCeiling?(this.onCeiling=!0,this.movement="rolling",this.y=i.canvas.height-this.radius-1):t.bottom+t.dy>i.canvas.height&&"0"==i.gameBoard[0][e]&&(this.y=0),t.onCeiling&&("0"==i.gameBoard[0][e]||"3"==i.gameBoard[0][e])&&(t.left+1>e*i.config.board.spacing&&"right"==t.direction||t.right-1<(e+1)*i.config.board.spacing&&"left"==t.direction)&&(this.y=0,this.movement="falling",this.onCeiling=!1),t.x>i.canvas.width&&s.includes(i.gameBoard[r][0])?this.direction="left":this.x>i.canvas.width&&(this.x=0),t.x<=0&&s.includes(i.gameBoard[r][i.config.board.size-1])?this.direction="right":this.x<0&&(this.x=i.canvas.width),this.movement){case"falling":this.dx=0,this.dy=Math.min(this.dy+i.config.physics.gravity,i.config.physics.terminal),this.y+=this.dy;break;case"rolling":this.dx="right"==this.direction?i.config.physics.speed:-i.config.physics.speed,this.dy=0,this.x+=this.dx;break;case"stopped":this.dx=0,this.dy=0,this.x+=this.dx,this.y+=this.dy}this.left=this.x-this.radius,this.right=this.x+this.radius,this.bottom=this.y+this.radius,this.draw()}},{key:"draw",value:function(){i.c.save(),i.c.beginPath(),i.c.fillStyle=i.config.hopper.color,i.c.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),i.c.fill(),i.c.closePath(),i.c.restore()}}]),e}();exports.default=s;
},{"../game.js":"5riJ"}],"Fa13":[function(require,module,exports) {
module.exports=[{name:"The Easy One",hoppers:{max:1,releaseRate:100},map:[["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","2","0","0","0","0","0","0","0","2","0","0","0","0"],["0","0","0","0","2","0","0","1","0","0","2","0","0","0","0","0"],["0","0","0","0","0","2","2","1","2","2","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","2","0","2","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","4","0","0","0","0","0","0","0","4","0","0","0","0"],["0","0","0","2","2","2","2","2","2","2","2","2","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"A Bridge Too Far",hoppers:{max:1,releaseRate:100},map:[["0","0","0","0","0","3","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","4","0","1","0","0","1","0","4","0","0","0","0","0"],["0","0","0","2","0","0","0","0","0","0","2","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Ciggie",hoppers:{max:"1",releaseRate:100},map:[["0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","4","0","0","0","0","0","0","0","0"],["0","0","0","0","2","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","2","2","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Stairway to Heaven",hoppers:{max:1,releaseRate:100},map:[[0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Stairway to Hell",hoppers:{max:1,releaseRate:100},map:[["0","0","0","0","0","3","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","4","0","0","0","0","1","0"],["0","0","0","0","0","0","0","0","0","2","0","0","0","0","2","0"],["0","0","0","0","0","0","0","0","0","0","1","2","2","1","0","0"],["0","0","0","0","0","0","0","0","0","2","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","1","0","1","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","2","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Safe Passage",hoppers:{max:1,releaseRate:100},map:[[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0],[1,0,2,0,1,0,2,0,1,0,2,0,1,0,4,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Solar System",hoppers:{max:"1",releaseRate:100},map:[["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["0","0","3","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","4","4","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","4","4","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","4","4","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"New level",hoppers:{max:1,releaseRate:100},map:[["0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","1","0","2","1","1","0","4","0","0","0","0","0"],["0","0","0","0","2","0","1","1","2","0","1","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"One Step Forward",hoppers:{max:"1",releaseRate:100},map:[["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","3","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","2","0","0","0","0","0","4","0","0","0","0","0"],["0","0","0","0","1","1","1","5","1","1","1","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Easy as pie",hoppers:{max:"",releaseRate:100},map:[["0","0","0","0","0","6","0","3","0","5","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","0","1","0","0","0","0","0","0","0"],["0","0","0","0","0","0","1","0","5","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"X Marx the Spot",hoppers:{max:"",releaseRate:100},map:[["0","0","6","0","0","0","0","0","0","0","0","0","5","0","0","0"],["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","2","0","0","0","0","0","0","0","4","0","0","0","0"],["0","0","0","0","2","0","0","0","0","0","1","0","0","0","0","0"],["0","0","0","0","0","2","0","0","0","1","0","0","0","0","0","0"],["0","0","0","0","0","0","1","5","2","0","0","0","0","0","0","0"],["0","0","0","0","0","1","0","0","0","2","0","0","0","0","0","0"],["0","0","0","0","1","0","0","0","0","0","2","0","0","0","0","0"],["0","0","0","1","0","0","0","0","0","0","0","2","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Bird of Paradise",hoppers:{max:1,releaseRate:100},map:[[0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,2,0,0,0,2,0,0,2,0,4],[2,2,0,1,2,2,2,0,2,2,2,0,2,2,0,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Means of Production",hoppers:{max:"1",releaseRate:100},map:[["1","1","2","2","1","1","2","2","1","1","2","2","1","1","2","2"],["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","6","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","4","0","0"],["0","0","0","5","2","5","2","5","2","5","2","5","2","6","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Sieze the Means of Production",hoppers:{max:"1",releaseRate:100},map:[["1","1","2","2","1","1","2","2","1","1","2","2","1","1","2","2"],["0","0","0","3","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","5","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","4","0","0"],["0","0","0","5","2","5","2","5","2","5","2","5","2","2","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Jolly Roger's Cookbook",hoppers:{max:"1",releaseRate:100},map:[["0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","6","0","0","0","0","0","0","0","0","0","0","0","5","0","0"],["0","0","0","0","0","2","2","2","2","2","0","0","0","0","0","0"],["0","0","0","0","2","1","1","1","1","1","2","0","0","0","0","0"],["0","0","0","1","0","1","1","1","1","1","0","1","0","0","0","0"],["0","0","0","5","1","1","1","1","1","1","1","5","0","0","0","0"],["0","0","0","2","1","1","6","1","5","1","1","2","0","0","0","0"],["0","0","0","2","1","1","1","1","1","1","1","2","0","0","0","0"],["0","0","0","1","2","1","1","1","1","1","2","1","0","0","0","0"],["0","0","0","0","1","2","1","1","1","2","1","0","0","0","0","0"],["0","0","0","0","0","1","2","2","2","1","0","0","0","0","0","0"],["0","6","0","0","0","1","1","4","1","1","0","0","0","5","0","0"],["0","0","0","0","0","2","6","6","6","2","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"Cosmonaut",hoppers:{max:"1",releaseRate:100},map:[["0","0","0","0","0","0","0","3","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","2","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","4","2","1","0","0","0","0","0","0","0"],["0","0","0","0","0","0","1","0","5","0","0","0","0","0","0","0"],["0","0","0","0","2","0","5","2","2","0","2","0","0","0","0","0"],["0","0","0","0","2","0","2","1","5","0","2","1","0","0","0","0"],["0","0","0","1","2","0","5","0","2","0","2","1","0","0","0","0"],["0","0","0","1","0","0","0","0","0","0","0","1","0","0","0","0"],["0","0","0","0","2","0","0","0","0","0","6","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","5","0","0","0","2","0","0","0","0","0","0"]]},{name:"Snail",hoppers:{max:"1",releaseRate:100},map:[["3","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","6","1","6","1","6","1","6","1","6","1","6","1","6","1","0"],["0","1","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["0","1","0","1","5","1","5","1","5","1","5","1","5","0","1","0"],["0","1","0","1","0","0","0","0","0","0","0","0","1","0","1","0"],["0","1","0","1","0","6","1","6","1","6","1","0","1","0","1","0"],["0","1","0","1","0","1","0","0","0","0","1","0","1","0","1","0"],["0","1","0","1","0","1","0","4","1","0","1","0","1","0","1","0"],["0","1","0","1","0","1","5","1","5","0","1","0","1","0","1","0"],["0","1","0","1","0","0","0","0","0","0","1","0","1","0","1","0"],["0","1","0","6","1","6","1","6","1","6","1","0","1","0","1","0"],["0","1","0","0","0","0","0","0","0","0","0","0","1","0","1","0"],["0","1","5","1","5","1","5","1","5","1","5","1","5","0","1","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["0","1","6","1","6","1","6","1","6","1","6","1","6","1","6","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},{name:"More levels coming soon!",hoppers:{max:"4",releaseRate:100},map:[["3","0","0","0","0","1","0","3","3","0","1","0","0","0","0","3"],["0","1","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["0","0","0","5","6","0","0","0","0","0","0","5","6","0","0","0"],["0","0","0","0","0","0","0","5","6","0","0","0","0","0","0","0"],["0","0","0","0","1","0","0","0","0","0","0","1","0","0","0","0"],["1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1"],["0","0","0","0","0","0","1","0","0","1","0","0","0","0","0","0"],["0","0","1","0","0","0","0","4","4","0","0","0","0","1","0","0"],["0","0","1","0","0","0","0","4","4","0","0","0","0","1","0","0"],["0","0","0","0","0","0","1","0","0","1","0","0","0","0","0","0"],["1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1"],["0","0","0","0","1","0","0","0","0","0","0","1","0","0","0","0"],["0","0","0","0","0","0","0","5","6","0","0","0","0","0","0","0"],["0","0","0","5","6","0","0","0","0","0","0","5","6","0","0","0"],["0","1","0","0","0","0","0","0","0","0","0","0","0","0","1","0"],["0","0","0","0","0","1","0","0","0","0","1","0","0","0","0","0"]]}];
},{}],"+oDR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.activatePlayMode=s,exports.activateLevelEditor=i,exports.createGameBoardCopy=p,exports.setHomeAddresses=c,exports.clearBoard=u,exports.loadNextLevel=g,exports.generateLevelJSON=d;var e=l(require("./domElements")),r=require("./game.js"),o=n(require("./classes/Hopper.js")),t=n(require("./data/levels.json"));function n(e){return e&&e.__esModule?e:{default:e}}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){if(e&&e.__esModule)return e;var r=a();if(r&&r.has(e))return r.get(e);var o={};if(null!=e){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var l=t?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n]}}return o.default=e,r&&r.set(e,o),o}function s(){r.hoppers.length<1&&(r.level.hoppers.current=0,r.level.hoppers.free=0,r.level.hoppers.max=r.level.new?t.default[r.level.current].hoppers.max:r.level.hoppers.max),r.selector.x=99999,r.selector.y=99999,r.selector.homeX=null,r.selector.homeY=null,r.selector.dragging=!1,r.selector.draggingBlock=!1,r.selector.whatBlockWas=null,r.config.mode="play"}function i(){r.dragger.x=null,r.dragger.y=null,r.dragger.homeX=null,r.dragger.homeY=null,r.dragger.dragging=!1,r.dragger.draggingBlock=!1,r.dragger.whatBlockWas=null,r.painter.x=null,r.painter.y=null,r.painter.dragging=!1,r.painter.blockType="2",r.config.mode="editor",r.editor.mode="none"}function p(e){e.forEach(function(e){r.gameBoard.shift()}),e.forEach(function(e){r.gameBoard.push(e.toString().split(","))})}function c(){r.homeAddresses.splice(0,r.homeAddresses.length),r.spawnPoints.splice(0,r.spawnPoints.length);for(var e=0;e<r.config.board.size;e++)for(var o=0;o<r.config.board.size;o++)"1"==r.gameBoard[e][o]?r.homeAddresses.push({home:{x:o,y:e},current:{x:o,y:e}}):"3"==r.gameBoard[e][o]&&r.spawnPoints.push({x:o,y:e})}function u(){for(var e=0;e<r.config.board.size;e++)for(var o=0;o<r.config.board.size;o++)r.gameBoard[e][o]="0";r.hoppers.splice(0,r.hoppers.length),r.level.hoppers.max=1,r.level.new=!0}function g(){r.level.new=!1,r.level.current+=1,r.selector.x=1e4,r.selector.y=1e4,(0,r.init)()}function d(){var o=e.input_newHoppersToSave.value;return o<=0?o=1:r.level.hoppers.max=o,{name:e.input_newLevelName.value,hoppers:{max:o,releaseRate:100},map:r.gameBoard}}
},{"./domElements":"ttE3","./game.js":"5riJ","./classes/Hopper.js":"LAWF","./data/levels.json":"Fa13"}],"loaR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawGameBoard=o,exports.clearScreen=i;var c=require("../game.js");function o(){for(var o=0;o<c.config.board.size;o++)for(var i=0;i<c.config.board.size;i++){switch(c.gameBoard[o][i]){case"0":a(i,o,c.config.colors.empty);break;case"1":a(i,o,c.config.colors.movable);break;case"2":a(i,o,c.config.colors.immovable);break;case"3":a(i,o,c.config.colors.spawn);break;case"4":a(i,o,c.config.colors.exit);break;case"5":a(i,o,c.config.colors.immovable),n(i,o);break;case"6":a(i,o,c.config.colors.immovable),g(i,o)}"editor"==c.config.mode&&e(i,o)}function a(o,i,a){c.c.save(),c.c.beginPath(),c.c.fillStyle=a,c.c.fillRect(o*c.config.board.spacing,i*c.config.board.spacing,o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing),c.c.fill(),c.c.closePath(),c.c.restore()}function n(o,i){c.c.save(),c.c.beginPath(),c.c.fillStyle=c.config.colors.movable,c.c.strokeStyle=c.config.colors.movable,c.c.moveTo(o*c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.lineTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.stroke(),c.c.fill(),c.c.restore()}function g(o,i){c.c.save(),c.c.beginPath(),c.c.fillStyle=c.config.colors.movable,c.c.strokeStyle=c.config.colors.movable,c.c.moveTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.lineTo(o*c.config.board.spacing,i*c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing),c.c.lineTo(o*c.config.board.spacing+c.config.board.spacing,i*c.config.board.spacing+c.config.board.spacing/2),c.c.stroke(),c.c.fill(),c.c.restore()}function e(o,i){c.c.save(),c.c.beginPath(),c.c.fillStyle="white",c.c.arc(o*c.config.board.spacing,i*c.config.board.spacing,1,0,2*Math.PI,!0),c.c.fill(),c.c.closePath(),c.c.restore()}}function i(){c.c.fillStyle="black",c.c.fillRect(0,0,c.canvas.width,c.canvas.height),c.c.fill()}
},{"../game.js":"5riJ"}],"goYb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.killAHopper=s,exports.spawnSingleHopper=l,exports.spawnHoppers=i,exports.resetHoppers=a;var e=t(require("../domElements.js")),r=require("../game.js"),p=o(require("../classes/Hopper.js"));function o(e){return e&&e.__esModule?e:{default:e}}function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function t(e){if(e&&e.__esModule)return e;var r=n();if(r&&r.has(e))return r.get(e);var p={};if(null!=e){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var s=o?Object.getOwnPropertyDescriptor(e,t):null;s&&(s.get||s.set)?Object.defineProperty(p,t,s):p[t]=e[t]}}return p.default=e,r&&r.set(e,p),p}function s(){r.hoppers.length>0&&(r.hoppers.shift(),r.level.hoppers.current=r.hoppers.length,r.level.hoppers.max-=1)}function l(){var o=r.level.hoppers.current%r.spawnPoints.length,n=r.spawnPoints[o].x*r.config.board.spacing+r.config.board.spacing/2,t=r.spawnPoints[o].y*r.config.board.spacing;if(r.hoppers.length<r.config.hopper.limit)try{r.hoppers.push(new p.default(n,t))}catch(s){r.hoppers.push(new p.default(r.config.board.spacing/2,0))}console.log(r.hoppers.length),r.level.hoppers.current=r.hoppers.length,r.level.hoppers.max=r.hoppers.length,e.info_toSave.innerHTML=r.level.hoppers.max}function i(){!(r.level.hoppers.max>r.level.hoppers.current+r.level.hoppers.free&&r.hoppers.length<r.config.hopper.limit)||0!=r.frame&&r.frame%r.level.hoppers.releaseRate!=0||l()}function a(){r.level.hoppers.current=0,r.level.hoppers.free=0,r.hoppers.splice(0,r.hoppers.length)}
},{"../domElements.js":"ttE3","../game.js":"5riJ","../classes/Hopper.js":"LAWF"}],"e2el":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mousedown=exports.mouse=void 0;var e={x:900,y:900};exports.mouse=e;var o=!1;exports.mousedown=o,window.addEventListener("mousemove",function(){e.x=event.x,e.y=event.y}),window.addEventListener("mousedown",function(){exports.mousedown=o=!0}),window.addEventListener("mouseup",function(){exports.mousedown=o=!1});
},{}],"Iy00":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../game.js"),n=require("../eventListeners/mouse.js");function r(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function a(o,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}function i(o,n,r){return n&&a(o.prototype,n),r&&a(o,r),o}var e=function(){function a(){r(this,a),this.x=1e4,this.y=1e4,this.homeX=null,this.homeY=null,this.dragging=!1,this.draggingBlock=!1,this.whatBlockWas=null}return i(a,[{key:"update",value:function(){var r,a=this,i=Math.floor(n.mouse.x/o.config.board.spacing),e=Math.floor(n.mouse.y/o.config.board.spacing),c=Math.floor(this.x/o.config.board.spacing),t=Math.floor(this.y/o.config.board.spacing),g=(o.config.colors.list[this.whatBlockWas],function(){a.x=Math.floor(n.mouse.x/o.config.board.spacing)*o.config.board.spacing,a.y=Math.floor(n.mouse.y/o.config.board.spacing)*o.config.board.spacing}),s=function(){return n.mouse.x<a.homeX+2*o.config.board.spacing&&n.mouse.x>a.homeX-o.config.board.spacing&&n.mouse.y<a.homeY+2*o.config.board.spacing&&n.mouse.y>a.homeY-o.config.board.spacing&&n.mouse.x<o.canvas.width&&n.mouse.x>=0&&n.mouse.y<o.canvas.height&&n.mouse.y>=0},f=function(){try{return"1"==o.gameBoard[e][i]}catch(n){return!1}},u=function(){return a.draggingBlock&&!n.mousedown},h=function(){return a.draggingBlock&&n.mousedown},d=function(){try{return"0"==o.gameBoard[e][i]}catch(n){return!1}},l=function(){return o.hoppers.some(function(n){try{var r=Math.floor(n.x/o.config.board.spacing),a=Math.floor(n.y/o.config.board.spacing);return i==r&&e==a}catch(c){return!1}})},m=function(){return o.hoppers.some(function(n){try{var r=Math.floor(n.x/o.config.board.spacing),a=Math.floor(n.y/o.config.board.spacing);return c==r&&t==a}catch(i){return!1}})};if(!a.draggingBlock&&n.mousedown&&f()?(r=o.homeAddresses.filter(function(o){return o.current.x==i&&o.current.y==e})[0],a.homeX=r.home.x*o.config.board.spacing,a.homeY=r.home.y*o.config.board.spacing,a.whatBlockWas=o.gameBoard[e][i],this.dragging=!0,this.draggingBlock=!0,o.gameBoard[e][i]="0"):a.dragging||!n.mousedown||f()||(this.dragging=!0,this.draggingBlock=!1),m()&&l())this.draw();else{if(m()&&!l()&&d()&&s())g();else if(m()&&(!s()||!d()))return void this.draw();h()&&d()&&!l()&&s()?g():(u()&&!l()&&function(){try{return"0"==o.gameBoard[t][c]}catch(n){return!1}}()&&!m()||u()&&l()&&(!m()||!h()))&&(a.dragging=!1,o.homeAddresses.forEach(function(n){n.home.x==Math.floor(a.homeX/o.config.board.spacing)&&n.home.y==Math.floor(a.homeY/o.config.board.spacing)&&(n.current.x=c,n.current.y=t)}),o.gameBoard[t][c]=a.whatBlockWas,a.draggingBlock&&(o.c.fillStyle="pink",o.c.fillRect(a.x,a.y,o.config.board.spacing,o.config.board.spacing)),a.draggingBlock=!1),h()&&this.draw()}}},{key:"draw",value:function(){o.c.save(),o.c.beginPath(),o.c.shadowColor="white",o.c.shadowBlur=12,o.c.strokeStyle="rgb(255,191,0)",o.c.fillStyle="rgba(150,50,100,0.2)",o.c.rect(this.homeX-o.config.board.spacing,this.homeY-o.config.board.spacing,3*o.config.board.spacing,3*o.config.board.spacing),o.c.fill(),o.c.stroke(),o.c.closePath(),o.c.restore(),o.c.fillStyle="orange",o.c.fillRect(this.x,this.y,o.config.board.spacing,o.config.board.spacing)}}]),a}();exports.default=e;
},{"../game.js":"5riJ","../eventListeners/mouse.js":"e2el"}],"jf4m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../game.js"),n=require("../eventListeners/mouse.js");function r(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function i(o,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function t(o,n,r){return n&&i(o.prototype,n),r&&i(o,r),o}var a=function(){function i(){r(this,i),this.x=null,this.y=null,this.homeX=null,this.homeY=null,this.dragging=!1,this.draggingBlock=!1,this.whatBlockWas=null}return t(i,[{key:"update",value:function(){var r=this,i=Math.floor(n.mouse.x/o.config.board.spacing),t=Math.floor(n.mouse.y/o.config.board.spacing),a=Math.floor(this.x/o.config.board.spacing),e=Math.floor(this.y/o.config.board.spacing),c=(o.config.colors.list[this.whatBlockWas],function(){r.x=Math.floor(n.mouse.x/o.config.board.spacing)*o.config.board.spacing,r.y=Math.floor(n.mouse.y/o.config.board.spacing)*o.config.board.spacing}),s=function(){return n.mouse.x<o.canvas.width&&n.mouse.x>=0&&n.mouse.y<o.canvas.height&&n.mouse.y>=0},g=function(){try{return["1","2","3","4","5","6"].includes(o.gameBoard[t][i])}catch(n){return!1}},l=function(){return r.draggingBlock&&!n.mousedown},u=function(){return r.draggingBlock&&n.mousedown},f=function(){try{return"0"==o.gameBoard[t][i]}catch(n){return!1}},d=function(){return o.hoppers.some(function(n){try{var r=Math.floor(n.x/o.config.board.spacing),a=Math.floor(n.y/o.config.board.spacing);return i==r&&t==a}catch(e){return!1}})},h=function(){return o.hoppers.some(function(n){try{var r=Math.floor(n.x/o.config.board.spacing),i=Math.floor(n.y/o.config.board.spacing);return a==r&&e==i}catch(t){return!1}})};if(!r.draggingBlock&&n.mousedown&&g()?(this.whatBlockWas=o.gameBoard[t][i],this.dragging=!0,this.draggingBlock=!0,o.gameBoard[t][i]="0"):r.dragging||!n.mousedown||g()||(this.dragging=!0,this.draggingBlock=!1),h()&&d())this.draw();else{if(h()&&!d()&&f()&&s())c();else if(h()&&(!s()||!f()))return void this.draw();u()&&f()&&!d()&&s()?c():(l()&&!d()&&function(){try{return"0"==o.gameBoard[e][a]}catch(n){return!1}}()&&!h()||l()&&d()&&(!h()||!u()))&&(r.dragging=!1,o.gameBoard[e][a]=r.whatBlockWas,r.draggingBlock&&(o.c.fillStyle=o.config.colors.list[r.whatBlockWas],o.c.fillRect(r.x,r.y,o.config.board.spacing,o.config.board.spacing)),r.draggingBlock=!1,o.level.new=!0,o.info_edited.classList.contains("hidden")&&o.info_edited.classList.remove("hidden")),u()&&this.draw()}}},{key:"draw",value:function(){o.c.save(),o.c.beginPath(),o.c.strokeStyle="white",o.c.shadowColor="white",o.c.shadowBlur=12,o.c.fillStyle=o.config.colors.list[this.whatBlockWas],o.c.rect(this.x,this.y,o.config.board.spacing,o.config.board.spacing),o.c.fillRect(this.x,this.y,o.config.board.spacing,o.config.board.spacing),o.c.stroke(),o.c.closePath(),o.c.restore()}}]),i}();exports.default=a;
},{"../game.js":"5riJ","../eventListeners/mouse.js":"e2el"}],"Ftdp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../game.js"),e=require("../eventListeners/mouse.js");function i(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function n(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function r(o,e,i){return e&&n(o.prototype,e),i&&n(o,i),o}var t=function(){function n(){i(this,n),this.x=null,this.y=null,this.dragging=!1,this.blockType="1",this.overlappingHopper=!1}return r(n,[{key:"update",value:function(){var i=this,n=(o.config.colors.list[this.blockType],Math.floor(e.mouse.x/o.config.board.spacing)),r=Math.floor(e.mouse.y/o.config.board.spacing),t=function(){return e.mouse.x<o.canvas.width&&e.mouse.x>=0&&e.mouse.y<o.canvas.height&&e.mouse.y>=0},a=function(){return o.hoppers.some(function(e){try{var i=Math.floor(e.x/o.config.board.spacing),t=Math.floor(e.y/o.config.board.spacing);return n==i&&r==t}catch(a){return!1}})};!i.dragging&&e.mousedown&&t()?this.dragging=!0:i.dragging&&!e.mousedown&&(this.dragging=!1),i.dragging&&e.mousedown&&!a()?(this.overlappingHopper=!1,t()&&(o.gameBoard[r][n]=this.blockType,o.level.new=!0,o.info_edited.classList.contains("hidden")&&o.info_edited.classList.remove("hidden"))):a()?this.overlappingHopper=!0:this.overlappingHopper=!1,i.x=Math.floor(e.mouse.x/o.config.board.spacing)*o.config.board.spacing,i.y=Math.floor(e.mouse.y/o.config.board.spacing)*o.config.board.spacing,this.draw()}},{key:"draw",value:function(){o.c.save(),o.c.beginPath(),this.dragging&&(o.c.shadowColor="white",o.c.shadowBlur=12),o.c.strokeStyle="white",o.c.fillStyle=this.overlappingHopper?"red":o.config.colors.list[this.blockType],o.c.rect(this.x,this.y,o.config.board.spacing,o.config.board.spacing),o.c.fillRect(this.x,this.y,o.config.board.spacing,o.config.board.spacing),o.c.stroke(),o.c.closePath(),o.c.restore()}}]),n}();exports.default=t;
},{"../game.js":"5riJ","../eventListeners/mouse.js":"e2el"}],"BJLU":[function(require,module,exports) {
"use strict";var e=require("../game.js"),n=require("../domElements.js"),t=o(require("../functions.js")),r=o(require("../functions/hopper.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;var n=i();if(n&&n.has(e))return n.get(e);var t={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var d=r?Object.getOwnPropertyDescriptor(e,o):null;d&&(d.get||d.set)?Object.defineProperty(t,o,d):t[o]=e[o]}}return t.default=e,n&&n.set(e,t),t}var d=function(){return!(n.input_newLevelName===document.activeElement)};window.addEventListener("keyup",function(n){"p"!=n.key&&"P"!=n.key||!d()||(e.level.paused=!e.level.paused,document.getElementById("paused").classList.toggle("hidden"))}),window.addEventListener("keyup",function(n){"r"!=n.key&&"R"!=n.key||"play"!=e.config.mode||(e.level.new?(r.resetHoppers(),t.setHomeAddresses(),t.activatePlayMode()):(0,e.init)())}),window.addEventListener("keyup",function(n){"s"!=n.key&&"S"!=n.key||"editor"!=e.config.mode||!d()||(t.setHomeAddresses(),r.spawnSingleHopper(),e.level.new=!0)}),window.addEventListener("keyup",function(n){"k"!=n.key&&"K"!=n.key||"editor"!=e.config.mode||!d()||(r.killAHopper(),e.level.new=!0)}),window.addEventListener("keydown",function(t){"Shift"==t.key&&(n.tileIcons.forEach(function(e){return e.classList.remove("selected")}),e.editor.mode="drag")}),window.addEventListener("keyup",function(n){"Shift"==n.key&&(e.editor.mode="none")});
},{"../game.js":"5riJ","../domElements.js":"ttE3","../functions.js":"+oDR","../functions/hopper.js":"goYb"}],"+H8a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showLevelHasBeenEdited=s,exports.showSaveJSONPanel=d,exports.showLoader=i,exports.showPlayingPanel=t,exports.showEditorPanel=o,exports.hideFilePanel=r;var e=n(require("../domElements.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function n(e){if(e&&e.__esModule)return e;var n=a();if(n&&n.has(e))return n.get(e);var s={};if(null!=e){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var t=d?Object.getOwnPropertyDescriptor(e,i):null;t&&(t.get||t.set)?Object.defineProperty(s,i,t):s[i]=e[i]}}return s.default=e,n&&n.set(e,s),s}function s(){e.info_edited.classList.contains("hidden")&&e.info_edited.classList.remove("hidden")}function d(){e.panel_saveBoard.classList.contains("hidden")&&e.panel_saveBoard.classList.remove("hidden"),e.panel_loadBoard.classList.contains("hidden")||e.panel_loadBoard.classList.add("hidden")}function i(){e.panel_loadBoard.classList.contains("hidden")&&e.panel_loadBoard.classList.remove("hidden"),e.panel_saveBoard.classList.contains("hidden")||e.panel_saveBoard.classList.add("hidden")}function t(){e.panel_editor.classList.contains("hidden")||(e.panel_editor.classList.add("hidden"),e.panel_lowerEdit.classList.add("hidden"),e.panel_playing.classList.remove("hidden"))}function o(){e.panel_editor.classList.contains("hidden")&&(e.panel_editor.classList.remove("hidden"),e.panel_lowerEdit.classList.remove("hidden"),e.panel_playing.classList.add("hidden"))}function r(){e.panel_saveBoard.classList.contains("hidden")||e.panel_saveBoard.classList.add("hidden"),e.panel_loadBoard.classList.contains("hidden")||e.panel_loadBoard.classList.add("hidden")}
},{"../domElements.js":"ttE3"}],"wGWV":[function(require,module,exports) {
"use strict";var e=o(require("../domElements.js")),n=o(require("../functions.js")),t=o(require("../functions/domFunctions.js")),i=require("../game.js"),a=r(require("../data/levels.json"));function r(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function o(e){if(e&&e.__esModule)return e;var n=l();if(n&&n.has(e))return n.get(e);var t={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=i?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(t,a,r):t[a]=e[a]}}return t.default=e,n&&n.set(e,t),t}e.btn_playLevel.addEventListener("click",function(){"editor"==i.config.mode&&n.setHomeAddresses(),t.hideFilePanel(),t.showPlayingPanel(),n.activatePlayMode()}),e.btn_levelEditor.addEventListener("click",function(){t.hideFilePanel(),t.showEditorPanel(),n.activateLevelEditor()}),e.btn_backToUnedited.addEventListener("click",i.init),e.btn_save.addEventListener("click",function(){t.showSaveJSONPanel(),e.panel_saveBoard.innerHTML="<h4>Save this string somewhere:</h4><div class='json'>"+JSON.stringify(n.generateLevelJSON())+"</div>"}),e.btn_showLoader.addEventListener("click",t.showLoader),e.btn_load.addEventListener("click",function(){var a=JSON.parse(e.input_levelToLoad.value);(0,i.init)(a),t.hideFilePanel(),t.showPlayingPanel(),n.activatePlayMode()}),e.btn_new.addEventListener("click",function(){n.clearBoard(),t.hideFilePanel(),t.showLevelHasBeenEdited()}),e.input_newLevelName.addEventListener("click",t.hideFilePanel),e.input_newHoppersToSave.addEventListener("click",t.hideFilePanel),e.input_newLevelName.addEventListener("input",function(n){e.info_levelName.innerHTML=e.input_newLevelName.value,t.hideFilePanel()}),e.input_newHoppersToSave.addEventListener("input",function(n){var a=e.input_newHoppersToSave.value;a<=0?(i.level.hoppers.max=1,e.info_toSave.innerHTML=1):(i.level.hoppers.max=a,e.info_toSave.innerHTML=i.level.hoppers.max),i.level.new=!0,t.hideFilePanel(),t.showLevelHasBeenEdited()}),e.tileIcons.forEach(function(n){n.addEventListener("click",function(){i.editor.mode="paint",i.painter.x=99999,i.painter.y=99999,i.painter.dragging=!1,i.painter.blockType=n.dataset.blockType,n.classList.contains("selected")||(e.tileIcons.forEach(function(e){return e.classList.remove("selected")}),n.classList.add("selected")),t.hideFilePanel()})});
},{"../domElements.js":"ttE3","../functions.js":"+oDR","../functions/domFunctions.js":"+H8a","../game.js":"5riJ","../data/levels.json":"Fa13"}],"5riJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=k,exports.frame=exports.painter=exports.dragger=exports.selector=exports.hoppers=exports.gameBoard=exports.spawnPoints=exports.homeAddresses=exports.c=exports.canvas=exports.editor=exports.config=exports.level=exports.palettes=void 0;var e=m(require("./functions.js")),r=m(require("./functions/canvas.js")),o=m(require("./functions/hopper.js")),t=m(require("./domElements.js")),s=u(require("./classes/Hopper.js")),a=u(require("./classes/Selector.js")),n=u(require("./classes/Dragger.js")),p=u(require("./classes/Painter.js")),i=u(require("./eventListeners/mouse.js")),l=u(require("./eventListeners/keyboard.js")),c=u(require("./eventListeners/domListeners.js")),d=u(require("./data/levels.json"));function u(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function m(e){if(e&&e.__esModule)return e;var r=f();if(r&&r.has(e))return r.get(e);var o={};if(null!=e){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=t?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}}return o.default=e,r&&r.set(e,o),o}var x=["#ff71ce","#01cdfe","#05ffa1","#bfb9ff","#fffb96"];exports.palettes=x;var v={current:0,name:"",hoppers:{releaseRate:100,current:0,max:1,free:0},completed:!1,paused:!1,new:!1};exports.level=v;var h={board:{size:16,spacing:32},hopper:{color:"green",radius:9,limit:16},mode:"play",physics:{gravity:.3,speed:1.5,terminal:9.8},colors:{empty:"black",movable:x[v.current%x.length],immovable:"grey",exit:"white",spawn:"blue",leftArrow:"green",rightArrow:"green"}};exports.config=h,h.colors.list=[h.colors.empty,h.colors.movable,h.colors.immovable,h.colors.spawn,h.colors.exit,h.colors.leftArrow,h.colors.rightArrow];var g={mode:"none"};exports.editor=g;var w=document.querySelector("canvas");exports.canvas=w;var b=w.getContext("2d");exports.c=b,w.width=h.board.size*h.board.spacing,w.height=h.board.size*h.board.spacing;var y=[];exports.homeAddresses=y;var j=[];exports.spawnPoints=j;var q=[];exports.gameBoard=q;var L=[];exports.hoppers=L;var P=new a.default;exports.selector=P;var _=new n.default;exports.dragger=_;var O=new p.default;function k(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default[v.current];v.new=!1,h.mode="play",v.hoppers.current=0,v.hoppers.free=0,r.hoppers.max>0?v.hoppers.max=r.hoppers.max:v.hoppers.max=1,t.info_levelName.innerHTML=r.name,t.info_toSave.innerHTML=v.hoppers.max,t.info_edited.classList.contains("hidden")||t.info_edited.classList.add("hidden"),exports.hoppers=L=[],exports.spawnPoints=j=[],exports.gameBoard=q=[],e.createGameBoardCopy(r.map),e.setHomeAddresses(),exports.frame=A=-1,h.colors.movable=x[v.current%x.length],exports.selector=P=new a.default}exports.painter=O;var A=0;function M(){if(requestAnimationFrame(M),r.clearScreen(),r.drawGameBoard(),o.spawnHoppers(),"editor"==h.mode)switch(g.mode){case"paint":O.update();break;case"drag":_.update()}else P.update();v.paused?L.forEach(function(e){return e.draw()}):(!function(){for(var r=v.hoppers.free==v.hoppers.max&&"play"==h.mode&&!v.new,o=L.length,t=[],s=o-1;s>=0;s--)L[s].update(),L[s].free&&t.push(s);t.length>0&&t.forEach(function(e){L.splice(e,1),v.hoppers.free+=1});r&&e.loadNextLevel()}(),exports.frame=A+=1)}exports.frame=A,window.addEventListener("keyup",function(r){"n"!=r.key&&"N"!=r.key||"play"!=h.mode||e.loadNextLevel()}),k(),M();
},{"./functions.js":"+oDR","./functions/canvas.js":"loaR","./functions/hopper.js":"goYb","./domElements.js":"ttE3","./classes/Hopper.js":"LAWF","./classes/Selector.js":"Iy00","./classes/Dragger.js":"jf4m","./classes/Painter.js":"Ftdp","./eventListeners/mouse.js":"e2el","./eventListeners/keyboard.js":"BJLU","./eventListeners/domListeners.js":"wGWV","./data/levels.json":"Fa13"}]},{},["5riJ"], null)
//# sourceMappingURL=/game.e3ea2450.js.map